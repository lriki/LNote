//=============================================================================
//【 Grid 】
//=============================================================================

//-------------------------------------------------------------------------
//
//-------------------------------------------------------------------------
#include "stdafx.h"
#include "../../Graphics/Manager.h"
#include "../SceneGraph.h"
#include "Grid.h"

//-------------------------------------------------------------------------
//
//-------------------------------------------------------------------------
namespace LNote
{
namespace Core
{
namespace Scene
{

//=============================================================================
// ■ Grid クラス
//=============================================================================

    //---------------------------------------------------------------------
    // ● コンストラクタ
    //---------------------------------------------------------------------
    Grid::Grid( SceneGraph* scene_ )
        : SceneNode     ( scene_ )
        , mGrid         ( NULL )
    {
    }

    //---------------------------------------------------------------------
    // ● デストラクタ
    //---------------------------------------------------------------------
    Grid::~Grid()
    {
        LN_SAFE_RELEASE( mGrid );
    }

    //---------------------------------------------------------------------
    // ● 初期化
    //---------------------------------------------------------------------
    void Grid::initialize()
    {
        SceneNode::initialize( 1, LN_DRAWCOORD_3D );

        mGrid = LN_NEW Graphics::Grid();
        mGrid->initialize(this->mSceneGraph->getGraphicsManager()->getGraphicsDevice());

        // ライティングなし
        setShader( this->mSceneGraph->getDefaultShader( LN_DEFSHADER_NOLIGHTING ) );
    }

    //---------------------------------------------------------------------
    // ● サブセットを描画する
    //---------------------------------------------------------------------
    LNRESULT Grid::drawSubset( lnU32 index_ )
    {
        return mGrid->draw();
    }

//-------------------------------------------------------------------------
//
//-------------------------------------------------------------------------

} // namespace Scene
} // namespace Core
} // namespace LNote

//=============================================================================
//                              end of file
//=============================================================================